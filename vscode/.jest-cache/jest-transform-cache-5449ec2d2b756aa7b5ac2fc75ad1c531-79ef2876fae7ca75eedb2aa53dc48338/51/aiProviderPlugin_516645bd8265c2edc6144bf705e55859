27934e3b9337c696e30a5528ca8d168f
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.AIProviderPlugin = void 0;
const vscode = __importStar(require("vscode"));
class AIProviderPlugin {
    metadata = {
        id: 'builtin-ai-provider',
        name: 'AI Provider',
        version: '1.0.0',
        description: 'Extensible AI provider for integrating external AI services',
        author: 'AI Debug Team',
        license: 'MIT',
        enabled: true,
        capabilities: [
            {
                type: 'ai-provider',
                name: 'ai-provider',
                description: 'Provide AI-powered insights and recommendations',
                permissions: ['network:ai-services:Connect to external AI services for analysis']
            },
            {
                type: 'command',
                name: 'ai-analysis',
                description: 'Run AI analysis on code'
            }
        ]
    };
    api;
    aiProviderMap = new Map();
    get providers() {
        return [];
    }
    get aiProviders() {
        return [
            {
                id: 'code-analysis-ai',
                name: 'Code Analysis AI',
                description: 'AI-powered code analysis and suggestions',
                capabilities: ['code-analysis', 'bug-detection', 'optimization'],
                generateInsights: async (data, context) => {
                    const insights = await this.generateCodeInsights(data, context);
                    return { response: JSON.stringify(insights), suggestions: insights.map((i) => ({ title: i.title, description: i.description })) };
                },
                processQuery: async (query, context) => {
                    const result = await this.processNaturalLanguageQuery(query, context);
                    return { response: result.response, suggestions: result.suggestions };
                },
                suggestActions: async (context) => {
                    return await this.suggestContextualActions(context);
                }
            },
            {
                id: 'test-insights-ai',
                name: 'Test Insights AI',
                description: 'AI-powered test analysis and recommendations',
                capabilities: ['test-analysis', 'coverage-optimization', 'test-generation'],
                generateInsights: async (data, context) => {
                    const insights = await this.generateTestInsights(data, context);
                    return { response: JSON.stringify(insights), suggestions: insights.map((i) => ({ title: i.title, description: i.description })) };
                },
                processQuery: async (query, context) => {
                    const result = await this.processTestQuery(query, context);
                    return { response: result.response, suggestions: result.suggestions };
                },
                suggestActions: async (context) => {
                    return await this.suggestTestActions(context);
                }
            },
            {
                id: 'performance-ai',
                name: 'Performance AI',
                description: 'AI-powered performance analysis and optimization',
                capabilities: ['performance-analysis', 'optimization', 'monitoring'],
                generateInsights: async (data, context) => {
                    const insights = await this.generatePerformanceInsights(data, context);
                    return { response: JSON.stringify(insights), suggestions: insights.map((i) => ({ title: i.title, description: i.description })) };
                },
                processQuery: async (query, context) => {
                    const result = await this.processPerformanceQuery(query, context);
                    return { response: result.response, suggestions: result.suggestions };
                },
                suggestActions: async (context) => {
                    return await this.suggestPerformanceActions(context);
                }
            }
        ];
    }
    get commands() {
        return [
            {
                id: 'ai-code-review',
                title: 'AI Code Review',
                description: 'Perform AI-powered code review',
                category: 'AI',
                icon: 'eye',
                execute: async (context, args) => {
                    const provider = this.aiProviderMap.get('code-analysis-ai');
                    if (!provider) {
                        throw new Error('Code analysis AI provider not available');
                    }
                    const currentFile = context.currentFile;
                    if (!currentFile) {
                        this.api?.showNotification?.('No file selected', 'warning');
                        return;
                    }
                    const fileContent = await vscode.workspace.fs.readFile(vscode.Uri.file(currentFile));
                    const codeData = {
                        content: fileContent.toString(),
                        filePath: currentFile,
                        language: this.getLanguageFromFile(currentFile)
                    };
                    const insights = await provider.generateInsights?.(codeData, context);
                    // Display results
                    const report = this.formatCodeReview(insights);
                    const doc = await vscode.workspace.openTextDocument({
                        content: report,
                        language: 'markdown'
                    });
                    await vscode.window.showTextDocument(doc);
                    return insights;
                }
            },
            {
                id: 'ai-ask-question',
                title: 'Ask AI Question',
                description: 'Ask a question about your code',
                category: 'AI',
                icon: 'question',
                execute: async (context, args) => {
                    const question = await vscode.window.showInputBox({
                        prompt: 'What would you like to know about your code?',
                        placeHolder: 'e.g., How can I improve this function?'
                    });
                    if (!question) {
                        return;
                    }
                    const provider = this.aiProviderMap.get('code-analysis-ai');
                    if (!provider) {
                        throw new Error('AI provider not available');
                    }
                    const answer = await provider.processQuery?.(question, context);
                    // Show answer in a notification or document
                    if (answer && answer.response && answer.response.length > 200) {
                        const doc = await vscode.workspace.openTextDocument({
                            content: `# AI Assistant Response\n\n**Question:** ${question}\n\n**Answer:** ${answer.response}\n\n${answer.suggestions ? '## Suggestions\n' + answer.suggestions.map(s => `- ${s.title}: ${s.description}`).join('\n') : ''}`,
                            language: 'markdown'
                        });
                        await vscode.window.showTextDocument(doc);
                    }
                    else {
                        this.api?.showNotification?.(answer?.response || 'No response', 'info');
                    }
                    return answer;
                }
            },
            {
                id: 'ai-optimize-code',
                title: 'AI Code Optimization',
                description: 'Get AI suggestions for code optimization',
                category: 'AI',
                icon: 'zap',
                execute: async (context, args) => {
                    const provider = this.aiProviderMap.get('performance-ai');
                    if (!provider) {
                        throw new Error('Performance AI provider not available');
                    }
                    const suggestions = await provider.suggestActions?.(context);
                    if (!suggestions) {
                        this.api?.showNotification?.('No optimization suggestions available', 'info');
                        return [];
                    }
                    // Show optimization suggestions
                    const items = suggestions.map(suggestion => ({
                        label: suggestion.title,
                        description: suggestion.description,
                        detail: `Impact: ${suggestion.impact} | Effort: ${suggestion.effort}`
                    }));
                    const selected = await vscode.window.showQuickPick(items, {
                        placeHolder: 'Select optimization to apply',
                        canPickMany: false
                    });
                    if (selected) {
                        const suggestion = suggestions.find(s => s.title === selected?.label);
                        if (suggestion) {
                            await this.applyOptimization(suggestion, context);
                        }
                    }
                    return suggestions;
                }
            }
        ];
    }
    async activate(api, context) {
        this.api = api;
        // Register AI providers
        for (const provider of this.aiProviders) {
            this.aiProviderMap.set(provider.id, provider);
        }
        // Register commands
        for (const command of this.commands) {
            api.registerCommand(command.id, command.execute);
        }
        // Listen for AI events
        api.on?.('ai:query', (data) => this.onAIQuery(data, context));
        api.on?.('ai:analysis-request', (data) => this.onAnalysisRequest(data, context));
        console.log('AI Provider Plugin activated');
    }
    async deactivate(api, context) {
        // Cleanup
        api.off?.('ai:query');
        api.off?.('ai:analysis-request');
        this.aiProviderMap.clear();
        console.log('AI Provider Plugin deactivated');
    }
    async generateCodeInsights(data, context) {
        // Simulate AI-powered code analysis
        const insights = [
            {
                id: 'code-complexity',
                type: 'performance',
                title: 'Code Complexity Analysis',
                description: 'This function has high cyclomatic complexity',
                confidence: 0.85,
                severity: 'medium',
                suggestions: [
                    {
                        title: 'Extract Method',
                        description: 'Break down the function into smaller methods',
                        impact: 'High',
                        effort: 'Medium'
                    }
                ]
            },
            {
                id: 'potential-bug',
                type: 'error',
                title: 'Potential Null Reference',
                description: 'Variable could be null before usage',
                confidence: 0.72,
                severity: 'high',
                suggestions: [
                    {
                        title: 'Add Null Check',
                        description: 'Add null checking before using the variable',
                        impact: 'High',
                        effort: 'Low'
                    }
                ]
            },
            {
                id: 'optimization-opportunity',
                type: 'suggestion',
                title: 'Performance Optimization',
                description: 'Loop can be optimized using array methods',
                confidence: 0.78,
                severity: 'low',
                suggestions: [
                    {
                        title: 'Use Array.map()',
                        description: 'Replace for loop with array.map() for better performance',
                        impact: 'Medium',
                        effort: 'Low'
                    }
                ]
            }
        ];
        return insights;
    }
    async generateTestInsights(data, context) {
        // Simulate AI-powered test analysis
        const insights = [
            {
                id: 'test-coverage-gap',
                type: 'warning',
                title: 'Test Coverage Gap',
                description: 'Critical function lacks proper test coverage',
                confidence: 0.88,
                severity: 'high',
                suggestions: [
                    {
                        title: 'Add Unit Tests',
                        description: 'Create comprehensive unit tests for this function',
                        impact: 'High',
                        effort: 'Medium'
                    }
                ]
            },
            {
                id: 'test-quality-issue',
                type: 'info',
                title: 'Test Quality Issue',
                description: 'Test is too generic and may not catch edge cases',
                confidence: 0.75,
                severity: 'medium',
                suggestions: [
                    {
                        title: 'Add Edge Case Tests',
                        description: 'Include tests for boundary conditions and error cases',
                        impact: 'Medium',
                        effort: 'Low'
                    }
                ]
            }
        ];
        return insights;
    }
    async generatePerformanceInsights(data, context) {
        // Simulate AI-powered performance analysis
        const insights = [
            {
                id: 'memory-leak',
                type: 'error',
                title: 'Potential Memory Leak',
                description: 'Event listener is not properly cleaned up',
                confidence: 0.82,
                severity: 'high',
                suggestions: [
                    {
                        title: 'Add Cleanup',
                        description: 'Remove event listener in cleanup function',
                        impact: 'High',
                        effort: 'Low'
                    }
                ]
            },
            {
                id: 'slow-operation',
                type: 'performance',
                title: 'Slow Operation Detected',
                description: 'Synchronous operation blocking main thread',
                confidence: 0.79,
                severity: 'medium',
                suggestions: [
                    {
                        title: 'Use Async/Await',
                        description: 'Convert to asynchronous operation',
                        impact: 'High',
                        effort: 'Medium'
                    }
                ]
            }
        ];
        return insights;
    }
    async processNaturalLanguageQuery(query, context) {
        // Simulate NLP processing
        const intent = this.classifyIntent(query);
        const entities = this.extractEntities(query);
        let response = '';
        let suggestions = [];
        switch (intent) {
            case 'code-review':
                response = 'I can help you review your code. I found several areas for improvement including complexity reduction and potential bug fixes.';
                suggestions = [
                    {
                        title: 'Run Code Analysis',
                        description: 'Perform comprehensive code analysis',
                        action: 'ai-code-review'
                    }
                ];
                break;
            case 'optimization':
                response = 'I can suggest optimizations for your code. Common areas include algorithm efficiency, memory usage, and async operations.';
                suggestions = [
                    {
                        title: 'Optimize Performance',
                        description: 'Get AI-powered optimization suggestions',
                        action: 'ai-optimize-code'
                    }
                ];
                break;
            case 'testing':
                response = 'I can help improve your testing strategy. This includes coverage analysis, test quality assessment, and test generation.';
                suggestions = [
                    {
                        title: 'Analyze Test Coverage',
                        description: 'Generate comprehensive test coverage report',
                        action: 'test-coverage-report'
                    }
                ];
                break;
            default:
                response = `I understand you're asking about "${query}". I can help with code analysis, optimization, and testing. What specific aspect would you like me to focus on?`;
        }
        return {
            intent,
            entities,
            confidence: 0.85,
            response,
            suggestions
        };
    }
    async processTestQuery(query, context) {
        // Simulate test-specific query processing
        const testIntent = this.classifyTestIntent(query);
        let response = '';
        let suggestions = [];
        switch (testIntent) {
            case 'coverage':
                response = 'Test coverage analysis shows areas that need more testing. Focus on edge cases and error conditions.';
                suggestions = [
                    {
                        title: 'Generate Coverage Report',
                        description: 'Create detailed coverage analysis',
                        action: 'test-coverage-report'
                    }
                ];
                break;
            case 'quality':
                response = 'Test quality can be improved by adding more descriptive test names and better assertion patterns.';
                suggestions = [
                    {
                        title: 'Analyze Test Quality',
                        description: 'Review test structure and patterns',
                        action: 'test-quality-analysis'
                    }
                ];
                break;
            default:
                response = 'I can help with test coverage, quality analysis, and performance optimization.';
        }
        return {
            intent: testIntent,
            response,
            suggestions
        };
    }
    async processPerformanceQuery(query, context) {
        // Simulate performance-specific query processing
        const perfIntent = this.classifyPerformanceIntent(query);
        let response = '';
        let suggestions = [];
        switch (perfIntent) {
            case 'memory':
                response = 'Memory usage can be optimized by proper cleanup and avoiding memory leaks.';
                suggestions = [
                    {
                        title: 'Memory Analysis',
                        description: 'Analyze memory usage patterns',
                        action: 'memory-analysis'
                    }
                ];
                break;
            case 'speed':
                response = 'Performance can be improved by optimizing algorithms and using async operations.';
                suggestions = [
                    {
                        title: 'Performance Optimization',
                        description: 'Get speed optimization suggestions',
                        action: 'ai-optimize-code'
                    }
                ];
                break;
            default:
                response = 'I can help with memory optimization, speed improvements, and performance monitoring.';
        }
        return {
            intent: perfIntent,
            response,
            suggestions
        };
    }
    async suggestContextualActions(context) {
        const actions = [];
        // Analyze current context
        if (context.currentFile) {
            const fileExt = context.currentFile.split('.').pop();
            if (fileExt === 'ts' || fileExt === 'js') {
                actions.push({
                    title: 'Code Review',
                    description: 'Perform AI-powered code review',
                    impact: 'High',
                    effort: 'Low',
                    action: 'ai-code-review'
                });
            }
            if (context.currentFile.includes('.test.') || context.currentFile.includes('.spec.')) {
                actions.push({
                    title: 'Test Analysis',
                    description: 'Analyze test quality and coverage',
                    impact: 'Medium',
                    effort: 'Low',
                    action: 'test-quality-analysis'
                });
            }
        }
        // Always suggest general optimization
        actions.push({
            title: 'Performance Optimization',
            description: 'Get AI-powered optimization suggestions',
            impact: 'Medium',
            effort: 'Medium',
            action: 'ai-optimize-code'
        });
        return actions;
    }
    async suggestTestActions(context) {
        return [
            {
                title: 'Generate Test Cases',
                description: 'AI-generated test cases for uncovered code',
                impact: 'High',
                effort: 'Medium',
                action: 'generate-tests'
            },
            {
                title: 'Optimize Test Performance',
                description: 'Improve test execution speed',
                impact: 'Medium',
                effort: 'Low',
                action: 'optimize-tests'
            }
        ];
    }
    async suggestPerformanceActions(context) {
        return [
            {
                title: 'Memory Optimization',
                description: 'Reduce memory usage and prevent leaks',
                impact: 'High',
                effort: 'Medium',
                action: 'optimize-memory'
            },
            {
                title: 'Async Optimization',
                description: 'Convert blocking operations to async',
                impact: 'High',
                effort: 'High',
                action: 'optimize-async'
            },
            {
                title: 'Algorithm Optimization',
                description: 'Improve algorithm efficiency',
                impact: 'Medium',
                effort: 'High',
                action: 'optimize-algorithms'
            }
        ];
    }
    classifyIntent(query) {
        const lowerQuery = query.toLowerCase();
        if (lowerQuery.includes('review') || lowerQuery.includes('analyze') || lowerQuery.includes('check')) {
            return 'code-review';
        }
        if (lowerQuery.includes('optimize') || lowerQuery.includes('performance') || lowerQuery.includes('speed')) {
            return 'optimization';
        }
        if (lowerQuery.includes('test') || lowerQuery.includes('coverage') || lowerQuery.includes('unit')) {
            return 'testing';
        }
        return 'general';
    }
    classifyTestIntent(query) {
        const lowerQuery = query.toLowerCase();
        if (lowerQuery.includes('coverage')) {
            return 'coverage';
        }
        if (lowerQuery.includes('quality') || lowerQuery.includes('structure')) {
            return 'quality';
        }
        return 'general';
    }
    classifyPerformanceIntent(query) {
        const lowerQuery = query.toLowerCase();
        if (lowerQuery.includes('memory') || lowerQuery.includes('leak')) {
            return 'memory';
        }
        if (lowerQuery.includes('speed') || lowerQuery.includes('slow') || lowerQuery.includes('fast')) {
            return 'speed';
        }
        return 'general';
    }
    extractEntities(query) {
        const entities = {};
        // Extract file references
        const fileMatch = query.match(/\b\w+\.(ts|js|tsx|jsx|py|java|cpp|c|h)\b/g);
        if (fileMatch) {
            entities.files = fileMatch;
        }
        // Extract function references
        const funcMatch = query.match(/\b[a-zA-Z_][a-zA-Z0-9_]*\s*\(/g);
        if (funcMatch) {
            entities.functions = funcMatch.map(f => f.replace('(', ''));
        }
        return entities;
    }
    getLanguageFromFile(filePath) {
        const ext = filePath.split('.').pop();
        const languageMap = {
            'ts': 'typescript',
            'js': 'javascript',
            'tsx': 'typescriptreact',
            'jsx': 'javascriptreact',
            'py': 'python',
            'java': 'java',
            'cpp': 'cpp',
            'c': 'c',
            'h': 'c'
        };
        return languageMap[ext || ''] || 'plaintext';
    }
    formatCodeReview(insights) {
        let report = `# AI Code Review Report\n\n`;
        for (const insight of insights) {
            report += `## ${insight.title}\n`;
            report += `**Type:** ${insight.type}\n`;
            report += `**Severity:** ${insight.severity}\n`;
            report += `**Confidence:** ${Math.round(insight.confidence * 100)}%\n`;
            report += `**Description:** ${insight.description}\n\n`;
            if (insight.suggestions && insight.suggestions.length > 0) {
                report += `### Suggestions\n`;
                for (const suggestion of insight.suggestions) {
                    report += `- **${suggestion.title}**: ${suggestion.description} (Impact: ${suggestion.impact}, Effort: ${suggestion.effort})\n`;
                }
                report += `\n`;
            }
        }
        report += `---\n*Generated by AI Debug AI Provider Plugin*\n`;
        return report;
    }
    async applyOptimization(suggestion, context) {
        // Implementation for applying optimization suggestions
        this.api?.showNotification?.(`Applied optimization: ${suggestion.title}`, 'info');
    }
    async onAIQuery(data, context) {
        // Handle AI query events
        console.log('AI query received:', data);
    }
    async onAnalysisRequest(data, context) {
        // Handle analysis request events
        console.log('Analysis request received:', data);
    }
}
exports.AIProviderPlugin = AIProviderPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2dyZWdkdW5uL3NyYy90ZXN0L2FpX2RlYnVnX2NvbnRleHQvdnNjb2RlL3NyYy9zZXJ2aWNlcy9wbHVnaW5zL2J1aWx0aW4vYWlQcm92aWRlclBsdWdpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVQSwrQ0FBaUM7QUFFakMsTUFBYSxnQkFBZ0I7SUFDM0IsUUFBUSxHQUFtQjtRQUN6QixFQUFFLEVBQUUscUJBQXFCO1FBQ3pCLElBQUksRUFBRSxhQUFhO1FBQ25CLE9BQU8sRUFBRSxPQUFPO1FBQ2hCLFdBQVcsRUFBRSw2REFBNkQ7UUFDMUUsTUFBTSxFQUFFLGVBQWU7UUFDdkIsT0FBTyxFQUFFLEtBQUs7UUFDZCxPQUFPLEVBQUUsSUFBSTtRQUNiLFlBQVksRUFBRTtZQUNaO2dCQUNFLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsYUFBYTtnQkFDbkIsV0FBVyxFQUFFLGlEQUFpRDtnQkFDOUQsV0FBVyxFQUFFLENBQUMsa0VBQWtFLENBQUM7YUFDbEY7WUFDRDtnQkFDRSxJQUFJLEVBQUUsU0FBUztnQkFDZixJQUFJLEVBQUUsYUFBYTtnQkFDbkIsV0FBVyxFQUFFLHlCQUF5QjthQUN2QztTQUNGO0tBQ0YsQ0FBQztJQUVNLEdBQUcsQ0FBYTtJQUNoQixhQUFhLEdBQTRCLElBQUksR0FBRyxFQUFFLENBQUM7SUFFM0QsSUFBSSxTQUFTO1FBQ1gsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ2IsT0FBTztZQUNMO2dCQUNFLEVBQUUsRUFBRSxrQkFBa0I7Z0JBQ3RCLElBQUksRUFBRSxrQkFBa0I7Z0JBQ3hCLFdBQVcsRUFBRSwwQ0FBMEM7Z0JBQ3ZELFlBQVksRUFBRSxDQUFDLGVBQWUsRUFBRSxlQUFlLEVBQUUsY0FBYyxDQUFDO2dCQUVoRSxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsSUFBUyxFQUFFLE9BQVksRUFBdUIsRUFBRTtvQkFDdkUsTUFBTSxRQUFRLEdBQUcs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TUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUMxRCxNQUFNLElBQUksbUJBQW1CLENBQUM7Z0JBQzlCLEtBQUssTUFBTSxVQUFVLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUM3QyxNQUFNLElBQUksT0FBTyxVQUFVLENBQUMsS0FBSyxPQUFPLFVBQVUsQ0FBQyxXQUFXLGFBQWEsVUFBVSxDQUFDLE1BQU0sYUFBYSxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUM7Z0JBQ2xJLENBQUM7Z0JBQ0QsTUFBTSxJQUFJLElBQUksQ0FBQztZQUNqQixDQUFDO1FBQ0gsQ0FBQztRQUVELE1BQU0sSUFBSSxtREFBbUQsQ0FBQztRQUU5RCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRU8sS0FBSyxDQUFDLGlCQUFpQixDQUFDLFVBQWUsRUFBRSxPQUFzQjtRQUNyRSx1REFBdUQ7UUFDdkQsSUFBSSxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLHlCQUF5QixVQUFVLENBQUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVPLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBUyxFQUFFLE9BQXNCO1FBQ3ZELHlCQUF5QjtRQUN6QixPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFTyxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBUyxFQUFFLE9BQXNCO1FBQy9ELGlDQUFpQztRQUNqQyxPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2xELENBQUM7Q0FDRjtBQXh0QkQsNENBd3RCQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZ3JlZ2R1bm4vc3JjL3Rlc3QvYWlfZGVidWdfY29udGV4dC92c2NvZGUvc3JjL3NlcnZpY2VzL3BsdWdpbnMvYnVpbHRpbi9haVByb3ZpZGVyUGx1Z2luLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBQbHVnaW4sIFxuICBQbHVnaW5NZXRhZGF0YSwgXG4gIFBsdWdpbkFQSSwgXG4gIFBsdWdpbkNvbnRleHQsIFxuICBQbHVnaW5Db21tYW5kLFxuICBBSVByb3ZpZGVyLFxuICBBSVJlc3BvbnNlLFxuICBBSVN1Z2dlc3Rpb25cbn0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvcGx1Z2luJztcbmltcG9ydCAqIGFzIHZzY29kZSBmcm9tICd2c2NvZGUnO1xuXG5leHBvcnQgY2xhc3MgQUlQcm92aWRlclBsdWdpbiBpbXBsZW1lbnRzIFBsdWdpbiB7XG4gIG1ldGFkYXRhOiBQbHVnaW5NZXRhZGF0YSA9IHtcbiAgICBpZDogJ2J1aWx0aW4tYWktcHJvdmlkZXInLFxuICAgIG5hbWU6ICdBSSBQcm92aWRlcicsXG4gICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICBkZXNjcmlwdGlvbjogJ0V4dGVuc2libGUgQUkgcHJvdmlkZXIgZm9yIGludGVncmF0aW5nIGV4dGVybmFsIEFJIHNlcnZpY2VzJyxcbiAgICBhdXRob3I6ICdBSSBEZWJ1ZyBUZWFtJyxcbiAgICBsaWNlbnNlOiAnTUlUJyxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNhcGFiaWxpdGllczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnYWktcHJvdmlkZXInLFxuICAgICAgICBuYW1lOiAnYWktcHJvdmlkZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb3ZpZGUgQUktcG93ZXJlZCBpbnNpZ2h0cyBhbmQgcmVjb21tZW5kYXRpb25zJyxcbiAgICAgICAgcGVybWlzc2lvbnM6IFsnbmV0d29yazphaS1zZXJ2aWNlczpDb25uZWN0IHRvIGV4dGVybmFsIEFJIHNlcnZpY2VzIGZvciBhbmFseXNpcyddXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnY29tbWFuZCcsXG4gICAgICAgIG5hbWU6ICdhaS1hbmFseXNpcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUnVuIEFJIGFuYWx5c2lzIG9uIGNvZGUnXG4gICAgICB9XG4gICAgXVxuICB9O1xuXG4gIHByaXZhdGUgYXBpPzogUGx1Z2luQVBJO1xuICBwcml2YXRlIGFpUHJvdmlkZXJNYXA6IE1hcDxzdHJpbmcsIEFJUHJvdmlkZXI+ID0gbmV3IE1hcCgpO1xuICBcbiAgZ2V0IHByb3ZpZGVycygpOiBhbnlbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIFxuICBnZXQgYWlQcm92aWRlcnMoKTogQUlQcm92aWRlcltdIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogJ2NvZGUtYW5hbHlzaXMtYWknLFxuICAgICAgICBuYW1lOiAnQ29kZSBBbmFseXNpcyBBSScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCBjb2RlIGFuYWx5c2lzIGFuZCBzdWdnZXN0aW9ucycsXG4gICAgICAgIGNhcGFiaWxpdGllczogWydjb2RlLWFuYWx5c2lzJywgJ2J1Zy1kZXRlY3Rpb24nLCAnb3B0aW1pemF0aW9uJ10sXG4gICAgICAgIFxuICAgICAgICBnZW5lcmF0ZUluc2lnaHRzOiBhc3luYyAoZGF0YTogYW55LCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJUmVzcG9uc2U+ID0+IHtcbiAgICAgICAgICBjb25zdCBpbnNpZ2h0cyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVDb2RlSW5zaWdodHMoZGF0YSwgY29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IEpTT04uc3RyaW5naWZ5KGluc2lnaHRzKSwgc3VnZ2VzdGlvbnM6IGluc2lnaHRzLm1hcCgoaTogYW55KSA9PiAoeyB0aXRsZTogaS50aXRsZSwgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24gfSkpIH07XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBwcm9jZXNzUXVlcnk6IGFzeW5jIChxdWVyeTogc3RyaW5nLCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJUmVzcG9uc2U+ID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2VRdWVyeShxdWVyeSwgY29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IHJlc3VsdC5yZXNwb25zZSwgc3VnZ2VzdGlvbnM6IHJlc3VsdC5zdWdnZXN0aW9ucyB9O1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc3VnZ2VzdEFjdGlvbnM6IGFzeW5jIChjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJU3VnZ2VzdGlvbltdPiA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3VnZ2VzdENvbnRleHR1YWxBY3Rpb25zKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3Rlc3QtaW5zaWdodHMtYWknLFxuICAgICAgICBuYW1lOiAnVGVzdCBJbnNpZ2h0cyBBSScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCB0ZXN0IGFuYWx5c2lzIGFuZCByZWNvbW1lbmRhdGlvbnMnLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IFsndGVzdC1hbmFseXNpcycsICdjb3ZlcmFnZS1vcHRpbWl6YXRpb24nLCAndGVzdC1nZW5lcmF0aW9uJ10sXG4gICAgICAgIFxuICAgICAgICBnZW5lcmF0ZUluc2lnaHRzOiBhc3luYyAoZGF0YTogYW55LCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJUmVzcG9uc2U+ID0+IHtcbiAgICAgICAgICBjb25zdCBpbnNpZ2h0cyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVUZXN0SW5zaWdodHMoZGF0YSwgY29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IEpTT04uc3RyaW5naWZ5KGluc2lnaHRzKSwgc3VnZ2VzdGlvbnM6IGluc2lnaHRzLm1hcCgoaTogYW55KSA9PiAoeyB0aXRsZTogaS50aXRsZSwgZGVzY3JpcHRpb246IGkuZGVzY3JpcHRpb24gfSkpIH07XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBwcm9jZXNzUXVlcnk6IGFzeW5jIChxdWVyeTogc3RyaW5nLCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJUmVzcG9uc2U+ID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnByb2Nlc3NUZXN0UXVlcnkocXVlcnksIGNvbnRleHQpO1xuICAgICAgICAgIHJldHVybiB7IHJlc3BvbnNlOiByZXN1bHQucmVzcG9uc2UsIHN1Z2dlc3Rpb25zOiByZXN1bHQuc3VnZ2VzdGlvbnMgfTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHN1Z2dlc3RBY3Rpb25zOiBhc3luYyAoY29udGV4dDogYW55KTogUHJvbWlzZTxBSVN1Z2dlc3Rpb25bXT4gPT4ge1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnN1Z2dlc3RUZXN0QWN0aW9ucyhjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwZXJmb3JtYW5jZS1haScsXG4gICAgICAgIG5hbWU6ICdQZXJmb3JtYW5jZSBBSScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCBwZXJmb3JtYW5jZSBhbmFseXNpcyBhbmQgb3B0aW1pemF0aW9uJyxcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBbJ3BlcmZvcm1hbmNlLWFuYWx5c2lzJywgJ29wdGltaXphdGlvbicsICdtb25pdG9yaW5nJ10sXG4gICAgICAgIFxuICAgICAgICBnZW5lcmF0ZUluc2lnaHRzOiBhc3luYyAoZGF0YTogYW55LCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJUmVzcG9uc2U+ID0+IHtcbiAgICAgICAgICBjb25zdCBpbnNpZ2h0cyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQZXJmb3JtYW5jZUluc2lnaHRzKGRhdGEsIGNvbnRleHQpO1xuICAgICAgICAgIHJldHVybiB7IHJlc3BvbnNlOiBKU09OLnN0cmluZ2lmeShpbnNpZ2h0cyksIHN1Z2dlc3Rpb25zOiBpbnNpZ2h0cy5tYXAoKGk6IGFueSkgPT4gKHsgdGl0bGU6IGkudGl0bGUsIGRlc2NyaXB0aW9uOiBpLmRlc2NyaXB0aW9uIH0pKSB9O1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgcHJvY2Vzc1F1ZXJ5OiBhc3luYyAocXVlcnk6IHN0cmluZywgY29udGV4dDogYW55KTogUHJvbWlzZTxBSVJlc3BvbnNlPiA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wcm9jZXNzUGVyZm9ybWFuY2VRdWVyeShxdWVyeSwgY29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2U6IHJlc3VsdC5yZXNwb25zZSwgc3VnZ2VzdGlvbnM6IHJlc3VsdC5zdWdnZXN0aW9ucyB9O1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc3VnZ2VzdEFjdGlvbnM6IGFzeW5jIChjb250ZXh0OiBhbnkpOiBQcm9taXNlPEFJU3VnZ2VzdGlvbltdPiA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3VnZ2VzdFBlcmZvcm1hbmNlQWN0aW9ucyhjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBnZXQgY29tbWFuZHMoKTogUGx1Z2luQ29tbWFuZFtdIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogJ2FpLWNvZGUtcmV2aWV3JyxcbiAgICAgICAgdGl0bGU6ICdBSSBDb2RlIFJldmlldycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyZm9ybSBBSS1wb3dlcmVkIGNvZGUgcmV2aWV3JyxcbiAgICAgICAgY2F0ZWdvcnk6ICdBSScsXG4gICAgICAgIGljb246ICdleWUnLFxuICAgICAgICBcbiAgICAgICAgZXhlY3V0ZTogYXN5bmMgKGNvbnRleHQ6IFBsdWdpbkNvbnRleHQsIGFyZ3M/OiBhbnlbXSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmFpUHJvdmlkZXJNYXAuZ2V0KCdjb2RlLWFuYWx5c2lzLWFpJyk7XG4gICAgICAgICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb2RlIGFuYWx5c2lzIEFJIHByb3ZpZGVyIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgY3VycmVudEZpbGUgPSBjb250ZXh0LmN1cnJlbnRGaWxlO1xuICAgICAgICAgIGlmICghY3VycmVudEZpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXBpPy5zaG93Tm90aWZpY2F0aW9uPy4oJ05vIGZpbGUgc2VsZWN0ZWQnLCAnd2FybmluZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHZzY29kZS53b3Jrc3BhY2UuZnMucmVhZEZpbGUodnNjb2RlLlVyaS5maWxlKGN1cnJlbnRGaWxlKSk7XG4gICAgICAgICAgY29uc3QgY29kZURhdGEgPSB7XG4gICAgICAgICAgICBjb250ZW50OiBmaWxlQ29udGVudC50b1N0cmluZygpLFxuICAgICAgICAgICAgZmlsZVBhdGg6IGN1cnJlbnRGaWxlLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IHRoaXMuZ2V0TGFuZ3VhZ2VGcm9tRmlsZShjdXJyZW50RmlsZSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGluc2lnaHRzID0gYXdhaXQgcHJvdmlkZXIuZ2VuZXJhdGVJbnNpZ2h0cz8uKGNvZGVEYXRhLCBjb250ZXh0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEaXNwbGF5IHJlc3VsdHNcbiAgICAgICAgICBjb25zdCByZXBvcnQgPSB0aGlzLmZvcm1hdENvZGVSZXZpZXcoaW5zaWdodHMgYXMgYW55KTtcbiAgICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCB2c2NvZGUud29ya3NwYWNlLm9wZW5UZXh0RG9jdW1lbnQoe1xuICAgICAgICAgICAgY29udGVudDogcmVwb3J0LFxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdtYXJrZG93bidcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBhd2FpdCB2c2NvZGUud2luZG93LnNob3dUZXh0RG9jdW1lbnQoZG9jKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gaW5zaWdodHM7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnYWktYXNrLXF1ZXN0aW9uJyxcbiAgICAgICAgdGl0bGU6ICdBc2sgQUkgUXVlc3Rpb24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FzayBhIHF1ZXN0aW9uIGFib3V0IHlvdXIgY29kZScsXG4gICAgICAgIGNhdGVnb3J5OiAnQUknLFxuICAgICAgICBpY29uOiAncXVlc3Rpb24nLFxuICAgICAgICBcbiAgICAgICAgZXhlY3V0ZTogYXN5bmMgKGNvbnRleHQ6IFBsdWdpbkNvbnRleHQsIGFyZ3M/OiBhbnlbXSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgICAgICAgY29uc3QgcXVlc3Rpb24gPSBhd2FpdCB2c2NvZGUud2luZG93LnNob3dJbnB1dEJveCh7XG4gICAgICAgICAgICBwcm9tcHQ6ICdXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGtub3cgYWJvdXQgeW91ciBjb2RlPycsXG4gICAgICAgICAgICBwbGFjZUhvbGRlcjogJ2UuZy4sIEhvdyBjYW4gSSBpbXByb3ZlIHRoaXMgZnVuY3Rpb24/J1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghcXVlc3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmFpUHJvdmlkZXJNYXAuZ2V0KCdjb2RlLWFuYWx5c2lzLWFpJyk7XG4gICAgICAgICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBSSBwcm92aWRlciBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IHByb3ZpZGVyLnByb2Nlc3NRdWVyeT8uKHF1ZXN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaG93IGFuc3dlciBpbiBhIG5vdGlmaWNhdGlvbiBvciBkb2N1bWVudFxuICAgICAgICAgIGlmIChhbnN3ZXIgJiYgYW5zd2VyLnJlc3BvbnNlICYmIGFuc3dlci5yZXNwb25zZS5sZW5ndGggPiAyMDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IGF3YWl0IHZzY29kZS53b3Jrc3BhY2Uub3BlblRleHREb2N1bWVudCh7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGAjIEFJIEFzc2lzdGFudCBSZXNwb25zZVxcblxcbioqUXVlc3Rpb246KiogJHtxdWVzdGlvbn1cXG5cXG4qKkFuc3dlcjoqKiAke2Fuc3dlci5yZXNwb25zZX1cXG5cXG4ke2Fuc3dlci5zdWdnZXN0aW9ucyA/ICcjIyBTdWdnZXN0aW9uc1xcbicgKyBhbnN3ZXIuc3VnZ2VzdGlvbnMubWFwKHMgPT4gYC0gJHtzLnRpdGxlfTogJHtzLmRlc2NyaXB0aW9ufWApLmpvaW4oJ1xcbicpIDogJyd9YCxcbiAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdtYXJrZG93bidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCB2c2NvZGUud2luZG93LnNob3dUZXh0RG9jdW1lbnQoZG9jKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hcGk/LnNob3dOb3RpZmljYXRpb24/LihhbnN3ZXI/LnJlc3BvbnNlIHx8ICdObyByZXNwb25zZScsICdpbmZvJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnYWktb3B0aW1pemUtY29kZScsXG4gICAgICAgIHRpdGxlOiAnQUkgQ29kZSBPcHRpbWl6YXRpb24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0dldCBBSSBzdWdnZXN0aW9ucyBmb3IgY29kZSBvcHRpbWl6YXRpb24nLFxuICAgICAgICBjYXRlZ29yeTogJ0FJJyxcbiAgICAgICAgaWNvbjogJ3phcCcsXG4gICAgICAgIFxuICAgICAgICBleGVjdXRlOiBhc3luYyAoY29udGV4dDogUGx1Z2luQ29udGV4dCwgYXJncz86IGFueVtdKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICAgICAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuYWlQcm92aWRlck1hcC5nZXQoJ3BlcmZvcm1hbmNlLWFpJyk7XG4gICAgICAgICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQZXJmb3JtYW5jZSBBSSBwcm92aWRlciBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gYXdhaXQgcHJvdmlkZXIuc3VnZ2VzdEFjdGlvbnM/Lihjb250ZXh0KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXN1Z2dlc3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmFwaT8uc2hvd05vdGlmaWNhdGlvbj8uKCdObyBvcHRpbWl6YXRpb24gc3VnZ2VzdGlvbnMgYXZhaWxhYmxlJywgJ2luZm8nKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBvcHRpbWl6YXRpb24gc3VnZ2VzdGlvbnNcbiAgICAgICAgICBjb25zdCBpdGVtcyA9IHN1Z2dlc3Rpb25zLm1hcChzdWdnZXN0aW9uID0+ICh7XG4gICAgICAgICAgICBsYWJlbDogc3VnZ2VzdGlvbi50aXRsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdWdnZXN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgZGV0YWlsOiBgSW1wYWN0OiAkeyhzdWdnZXN0aW9uIGFzIGFueSkuaW1wYWN0fSB8IEVmZm9ydDogJHsoc3VnZ2VzdGlvbiBhcyBhbnkpLmVmZm9ydH1gXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYXdhaXQgdnNjb2RlLndpbmRvdy5zaG93UXVpY2tQaWNrKGl0ZW1zLCB7XG4gICAgICAgICAgICBwbGFjZUhvbGRlcjogJ1NlbGVjdCBvcHRpbWl6YXRpb24gdG8gYXBwbHknLFxuICAgICAgICAgICAgY2FuUGlja01hbnk6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbnMuZmluZChzID0+IHMudGl0bGUgPT09IHNlbGVjdGVkPy5sYWJlbCk7XG4gICAgICAgICAgICBpZiAoc3VnZ2VzdGlvbikge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcGx5T3B0aW1pemF0aW9uKHN1Z2dlc3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGUoYXBpOiBQbHVnaW5BUEksIGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICBcbiAgICAvLyBSZWdpc3RlciBBSSBwcm92aWRlcnNcbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIHRoaXMuYWlQcm92aWRlcnMpIHtcbiAgICAgIHRoaXMuYWlQcm92aWRlck1hcC5zZXQocHJvdmlkZXIuaWQsIHByb3ZpZGVyKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVnaXN0ZXIgY29tbWFuZHNcbiAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgdGhpcy5jb21tYW5kcykge1xuICAgICAgYXBpLnJlZ2lzdGVyQ29tbWFuZChjb21tYW5kLmlkLCBjb21tYW5kLmV4ZWN1dGUpO1xuICAgIH1cbiAgICBcbiAgICAvLyBMaXN0ZW4gZm9yIEFJIGV2ZW50c1xuICAgIGFwaS5vbj8uKCdhaTpxdWVyeScsIChkYXRhKSA9PiB0aGlzLm9uQUlRdWVyeShkYXRhLCBjb250ZXh0KSk7XG4gICAgYXBpLm9uPy4oJ2FpOmFuYWx5c2lzLXJlcXVlc3QnLCAoZGF0YSkgPT4gdGhpcy5vbkFuYWx5c2lzUmVxdWVzdChkYXRhLCBjb250ZXh0KSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0FJIFByb3ZpZGVyIFBsdWdpbiBhY3RpdmF0ZWQnKTtcbiAgfVxuXG4gIGFzeW5jIGRlYWN0aXZhdGUoYXBpOiBQbHVnaW5BUEksIGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBDbGVhbnVwXG4gICAgYXBpLm9mZj8uKCdhaTpxdWVyeScpO1xuICAgIGFwaS5vZmY/LignYWk6YW5hbHlzaXMtcmVxdWVzdCcpO1xuICAgIHRoaXMuYWlQcm92aWRlck1hcC5jbGVhcigpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdBSSBQcm92aWRlciBQbHVnaW4gZGVhY3RpdmF0ZWQnKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVDb2RlSW5zaWdodHMoZGF0YTogYW55LCBjb250ZXh0OiBQbHVnaW5Db250ZXh0KTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIC8vIFNpbXVsYXRlIEFJLXBvd2VyZWQgY29kZSBhbmFseXNpc1xuICAgIGNvbnN0IGluc2lnaHRzID0gW1xuICAgICAge1xuICAgICAgICBpZDogJ2NvZGUtY29tcGxleGl0eScsXG4gICAgICAgIHR5cGU6ICdwZXJmb3JtYW5jZScsXG4gICAgICAgIHRpdGxlOiAnQ29kZSBDb21wbGV4aXR5IEFuYWx5c2lzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGlzIGZ1bmN0aW9uIGhhcyBoaWdoIGN5Y2xvbWF0aWMgY29tcGxleGl0eScsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ0V4dHJhY3QgTWV0aG9kJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQnJlYWsgZG93biB0aGUgZnVuY3Rpb24gaW50byBzbWFsbGVyIG1ldGhvZHMnLFxuICAgICAgICAgICAgaW1wYWN0OiAnSGlnaCcsXG4gICAgICAgICAgICBlZmZvcnQ6ICdNZWRpdW0nXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3BvdGVudGlhbC1idWcnLFxuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ1BvdGVudGlhbCBOdWxsIFJlZmVyZW5jZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmFyaWFibGUgY291bGQgYmUgbnVsbCBiZWZvcmUgdXNhZ2UnLFxuICAgICAgICBjb25maWRlbmNlOiAwLjcyLFxuICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnQWRkIE51bGwgQ2hlY2snLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBZGQgbnVsbCBjaGVja2luZyBiZWZvcmUgdXNpbmcgdGhlIHZhcmlhYmxlJyxcbiAgICAgICAgICAgIGltcGFjdDogJ0hpZ2gnLFxuICAgICAgICAgICAgZWZmb3J0OiAnTG93J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdvcHRpbWl6YXRpb24tb3Bwb3J0dW5pdHknLFxuICAgICAgICB0eXBlOiAnc3VnZ2VzdGlvbicsXG4gICAgICAgIHRpdGxlOiAnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMb29wIGNhbiBiZSBvcHRpbWl6ZWQgdXNpbmcgYXJyYXkgbWV0aG9kcycsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzgsXG4gICAgICAgIHNldmVyaXR5OiAnbG93JyxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ1VzZSBBcnJheS5tYXAoKScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JlcGxhY2UgZm9yIGxvb3Agd2l0aCBhcnJheS5tYXAoKSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlJyxcbiAgICAgICAgICAgIGltcGFjdDogJ01lZGl1bScsXG4gICAgICAgICAgICBlZmZvcnQ6ICdMb3cnXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXTtcblxuICAgIHJldHVybiBpbnNpZ2h0cztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVUZXN0SW5zaWdodHMoZGF0YTogYW55LCBjb250ZXh0OiBQbHVnaW5Db250ZXh0KTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIC8vIFNpbXVsYXRlIEFJLXBvd2VyZWQgdGVzdCBhbmFseXNpc1xuICAgIGNvbnN0IGluc2lnaHRzID0gW1xuICAgICAge1xuICAgICAgICBpZDogJ3Rlc3QtY292ZXJhZ2UtZ2FwJyxcbiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgQ292ZXJhZ2UgR2FwJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDcml0aWNhbCBmdW5jdGlvbiBsYWNrcyBwcm9wZXIgdGVzdCBjb3ZlcmFnZScsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODgsXG4gICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgIHN1Z2dlc3Rpb25zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6ICdBZGQgVW5pdCBUZXN0cycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBjb21wcmVoZW5zaXZlIHVuaXQgdGVzdHMgZm9yIHRoaXMgZnVuY3Rpb24nLFxuICAgICAgICAgICAgaW1wYWN0OiAnSGlnaCcsXG4gICAgICAgICAgICBlZmZvcnQ6ICdNZWRpdW0nXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3Rlc3QtcXVhbGl0eS1pc3N1ZScsXG4gICAgICAgIHR5cGU6ICdpbmZvJyxcbiAgICAgICAgdGl0bGU6ICdUZXN0IFF1YWxpdHkgSXNzdWUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgaXMgdG9vIGdlbmVyaWMgYW5kIG1heSBub3QgY2F0Y2ggZWRnZSBjYXNlcycsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuNzUsXG4gICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ0FkZCBFZGdlIENhc2UgVGVzdHMnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdJbmNsdWRlIHRlc3RzIGZvciBib3VuZGFyeSBjb25kaXRpb25zIGFuZCBlcnJvciBjYXNlcycsXG4gICAgICAgICAgICBpbXBhY3Q6ICdNZWRpdW0nLFxuICAgICAgICAgICAgZWZmb3J0OiAnTG93J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIF07XG5cbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlUGVyZm9ybWFuY2VJbnNpZ2h0cyhkYXRhOiBhbnksIGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgLy8gU2ltdWxhdGUgQUktcG93ZXJlZCBwZXJmb3JtYW5jZSBhbmFseXNpc1xuICAgIGNvbnN0IGluc2lnaHRzID0gW1xuICAgICAge1xuICAgICAgICBpZDogJ21lbW9yeS1sZWFrJyxcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdQb3RlbnRpYWwgTWVtb3J5IExlYWsnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0V2ZW50IGxpc3RlbmVyIGlzIG5vdCBwcm9wZXJseSBjbGVhbmVkIHVwJyxcbiAgICAgICAgY29uZmlkZW5jZTogMC44MixcbiAgICAgICAgc2V2ZXJpdHk6ICdoaWdoJyxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ0FkZCBDbGVhbnVwJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGluIGNsZWFudXAgZnVuY3Rpb24nLFxuICAgICAgICAgICAgaW1wYWN0OiAnSGlnaCcsXG4gICAgICAgICAgICBlZmZvcnQ6ICdMb3cnXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3Nsb3ctb3BlcmF0aW9uJyxcbiAgICAgICAgdHlwZTogJ3BlcmZvcm1hbmNlJyxcbiAgICAgICAgdGl0bGU6ICdTbG93IE9wZXJhdGlvbiBEZXRlY3RlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU3luY2hyb25vdXMgb3BlcmF0aW9uIGJsb2NraW5nIG1haW4gdGhyZWFkJyxcbiAgICAgICAgY29uZmlkZW5jZTogMC43OSxcbiAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnVXNlIEFzeW5jL0F3YWl0JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udmVydCB0byBhc3luY2hyb25vdXMgb3BlcmF0aW9uJyxcbiAgICAgICAgICAgIGltcGFjdDogJ0hpZ2gnLFxuICAgICAgICAgICAgZWZmb3J0OiAnTWVkaXVtJ1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIF07XG5cbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NOYXR1cmFsTGFuZ3VhZ2VRdWVyeShxdWVyeTogc3RyaW5nLCBjb250ZXh0OiBQbHVnaW5Db250ZXh0KTogUHJvbWlzZTxhbnk+IHtcbiAgICAvLyBTaW11bGF0ZSBOTFAgcHJvY2Vzc2luZ1xuICAgIGNvbnN0IGludGVudCA9IHRoaXMuY2xhc3NpZnlJbnRlbnQocXVlcnkpO1xuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy5leHRyYWN0RW50aXRpZXMocXVlcnkpO1xuICAgIFxuICAgIGxldCByZXNwb25zZSA9ICcnO1xuICAgIGxldCBzdWdnZXN0aW9uczogYW55W10gPSBbXTtcbiAgICBcbiAgICBzd2l0Y2ggKGludGVudCkge1xuICAgICAgY2FzZSAnY29kZS1yZXZpZXcnOlxuICAgICAgICByZXNwb25zZSA9ICdJIGNhbiBoZWxwIHlvdSByZXZpZXcgeW91ciBjb2RlLiBJIGZvdW5kIHNldmVyYWwgYXJlYXMgZm9yIGltcHJvdmVtZW50IGluY2x1ZGluZyBjb21wbGV4aXR5IHJlZHVjdGlvbiBhbmQgcG90ZW50aWFsIGJ1ZyBmaXhlcy4nO1xuICAgICAgICBzdWdnZXN0aW9ucyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ1J1biBDb2RlIEFuYWx5c2lzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyZm9ybSBjb21wcmVoZW5zaXZlIGNvZGUgYW5hbHlzaXMnLFxuICAgICAgICAgICAgYWN0aW9uOiAnYWktY29kZS1yZXZpZXcnXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdvcHRpbWl6YXRpb24nOlxuICAgICAgICByZXNwb25zZSA9ICdJIGNhbiBzdWdnZXN0IG9wdGltaXphdGlvbnMgZm9yIHlvdXIgY29kZS4gQ29tbW9uIGFyZWFzIGluY2x1ZGUgYWxnb3JpdGhtIGVmZmljaWVuY3ksIG1lbW9yeSB1c2FnZSwgYW5kIGFzeW5jIG9wZXJhdGlvbnMuJztcbiAgICAgICAgc3VnZ2VzdGlvbnMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6ICdPcHRpbWl6ZSBQZXJmb3JtYW5jZScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dldCBBSS1wb3dlcmVkIG9wdGltaXphdGlvbiBzdWdnZXN0aW9ucycsXG4gICAgICAgICAgICBhY3Rpb246ICdhaS1vcHRpbWl6ZS1jb2RlJ1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAndGVzdGluZyc6XG4gICAgICAgIHJlc3BvbnNlID0gJ0kgY2FuIGhlbHAgaW1wcm92ZSB5b3VyIHRlc3Rpbmcgc3RyYXRlZ3kuIFRoaXMgaW5jbHVkZXMgY292ZXJhZ2UgYW5hbHlzaXMsIHRlc3QgcXVhbGl0eSBhc3Nlc3NtZW50LCBhbmQgdGVzdCBnZW5lcmF0aW9uLic7XG4gICAgICAgIHN1Z2dlc3Rpb25zID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnQW5hbHl6ZSBUZXN0IENvdmVyYWdlJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJhdGUgY29tcHJlaGVuc2l2ZSB0ZXN0IGNvdmVyYWdlIHJlcG9ydCcsXG4gICAgICAgICAgICBhY3Rpb246ICd0ZXN0LWNvdmVyYWdlLXJlcG9ydCdcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlc3BvbnNlID0gYEkgdW5kZXJzdGFuZCB5b3UncmUgYXNraW5nIGFib3V0IFwiJHtxdWVyeX1cIi4gSSBjYW4gaGVscCB3aXRoIGNvZGUgYW5hbHlzaXMsIG9wdGltaXphdGlvbiwgYW5kIHRlc3RpbmcuIFdoYXQgc3BlY2lmaWMgYXNwZWN0IHdvdWxkIHlvdSBsaWtlIG1lIHRvIGZvY3VzIG9uP2A7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBpbnRlbnQsXG4gICAgICBlbnRpdGllcyxcbiAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICByZXNwb25zZSxcbiAgICAgIHN1Z2dlc3Rpb25zXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1Rlc3RRdWVyeShxdWVyeTogc3RyaW5nLCBjb250ZXh0OiBQbHVnaW5Db250ZXh0KTogUHJvbWlzZTxhbnk+IHtcbiAgICAvLyBTaW11bGF0ZSB0ZXN0LXNwZWNpZmljIHF1ZXJ5IHByb2Nlc3NpbmdcbiAgICBjb25zdCB0ZXN0SW50ZW50ID0gdGhpcy5jbGFzc2lmeVRlc3RJbnRlbnQocXVlcnkpO1xuICAgIFxuICAgIGxldCByZXNwb25zZSA9ICcnO1xuICAgIGxldCBzdWdnZXN0aW9uczogYW55W10gPSBbXTtcbiAgICBcbiAgICBzd2l0Y2ggKHRlc3RJbnRlbnQpIHtcbiAgICAgIGNhc2UgJ2NvdmVyYWdlJzpcbiAgICAgICAgcmVzcG9uc2UgPSAnVGVzdCBjb3ZlcmFnZSBhbmFseXNpcyBzaG93cyBhcmVhcyB0aGF0IG5lZWQgbW9yZSB0ZXN0aW5nLiBGb2N1cyBvbiBlZGdlIGNhc2VzIGFuZCBlcnJvciBjb25kaXRpb25zLic7XG4gICAgICAgIHN1Z2dlc3Rpb25zID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnR2VuZXJhdGUgQ292ZXJhZ2UgUmVwb3J0JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIGRldGFpbGVkIGNvdmVyYWdlIGFuYWx5c2lzJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ3Rlc3QtY292ZXJhZ2UtcmVwb3J0J1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAncXVhbGl0eSc6XG4gICAgICAgIHJlc3BvbnNlID0gJ1Rlc3QgcXVhbGl0eSBjYW4gYmUgaW1wcm92ZWQgYnkgYWRkaW5nIG1vcmUgZGVzY3JpcHRpdmUgdGVzdCBuYW1lcyBhbmQgYmV0dGVyIGFzc2VydGlvbiBwYXR0ZXJucy4nO1xuICAgICAgICBzdWdnZXN0aW9ucyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogJ0FuYWx5emUgVGVzdCBRdWFsaXR5JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmV2aWV3IHRlc3Qgc3RydWN0dXJlIGFuZCBwYXR0ZXJucycsXG4gICAgICAgICAgICBhY3Rpb246ICd0ZXN0LXF1YWxpdHktYW5hbHlzaXMnXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXNwb25zZSA9ICdJIGNhbiBoZWxwIHdpdGggdGVzdCBjb3ZlcmFnZSwgcXVhbGl0eSBhbmFseXNpcywgYW5kIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi4nO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgaW50ZW50OiB0ZXN0SW50ZW50LFxuICAgICAgcmVzcG9uc2UsXG4gICAgICBzdWdnZXN0aW9uc1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NQZXJmb3JtYW5jZVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIFNpbXVsYXRlIHBlcmZvcm1hbmNlLXNwZWNpZmljIHF1ZXJ5IHByb2Nlc3NpbmdcbiAgICBjb25zdCBwZXJmSW50ZW50ID0gdGhpcy5jbGFzc2lmeVBlcmZvcm1hbmNlSW50ZW50KHF1ZXJ5KTtcbiAgICBcbiAgICBsZXQgcmVzcG9uc2UgPSAnJztcbiAgICBsZXQgc3VnZ2VzdGlvbnM6IGFueVtdID0gW107XG4gICAgXG4gICAgc3dpdGNoIChwZXJmSW50ZW50KSB7XG4gICAgICBjYXNlICdtZW1vcnknOlxuICAgICAgICByZXNwb25zZSA9ICdNZW1vcnkgdXNhZ2UgY2FuIGJlIG9wdGltaXplZCBieSBwcm9wZXIgY2xlYW51cCBhbmQgYXZvaWRpbmcgbWVtb3J5IGxlYWtzLic7XG4gICAgICAgIHN1Z2dlc3Rpb25zID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnTWVtb3J5IEFuYWx5c2lzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW5hbHl6ZSBtZW1vcnkgdXNhZ2UgcGF0dGVybnMnLFxuICAgICAgICAgICAgYWN0aW9uOiAnbWVtb3J5LWFuYWx5c2lzJ1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnc3BlZWQnOlxuICAgICAgICByZXNwb25zZSA9ICdQZXJmb3JtYW5jZSBjYW4gYmUgaW1wcm92ZWQgYnkgb3B0aW1pemluZyBhbGdvcml0aG1zIGFuZCB1c2luZyBhc3luYyBvcGVyYXRpb25zLic7XG4gICAgICAgIHN1Z2dlc3Rpb25zID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiAnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2V0IHNwZWVkIG9wdGltaXphdGlvbiBzdWdnZXN0aW9ucycsXG4gICAgICAgICAgICBhY3Rpb246ICdhaS1vcHRpbWl6ZS1jb2RlJ1xuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzcG9uc2UgPSAnSSBjYW4gaGVscCB3aXRoIG1lbW9yeSBvcHRpbWl6YXRpb24sIHNwZWVkIGltcHJvdmVtZW50cywgYW5kIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcuJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGludGVudDogcGVyZkludGVudCxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgc3VnZ2VzdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdWdnZXN0Q29udGV4dHVhbEFjdGlvbnMoY29udGV4dDogUGx1Z2luQ29udGV4dCk6IFByb21pc2U8YW55W10+IHtcbiAgICBjb25zdCBhY3Rpb25zID0gW107XG4gICAgXG4gICAgLy8gQW5hbHl6ZSBjdXJyZW50IGNvbnRleHRcbiAgICBpZiAoY29udGV4dC5jdXJyZW50RmlsZSkge1xuICAgICAgY29uc3QgZmlsZUV4dCA9IGNvbnRleHQuY3VycmVudEZpbGUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIFxuICAgICAgaWYgKGZpbGVFeHQgPT09ICd0cycgfHwgZmlsZUV4dCA9PT0gJ2pzJykge1xuICAgICAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgICAgIHRpdGxlOiAnQ29kZSBSZXZpZXcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyZm9ybSBBSS1wb3dlcmVkIGNvZGUgcmV2aWV3JyxcbiAgICAgICAgICBpbXBhY3Q6ICdIaWdoJyxcbiAgICAgICAgICBlZmZvcnQ6ICdMb3cnLFxuICAgICAgICAgIGFjdGlvbjogJ2FpLWNvZGUtcmV2aWV3J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGNvbnRleHQuY3VycmVudEZpbGUuaW5jbHVkZXMoJy50ZXN0LicpIHx8IGNvbnRleHQuY3VycmVudEZpbGUuaW5jbHVkZXMoJy5zcGVjLicpKSB7XG4gICAgICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICAgICAgdGl0bGU6ICdUZXN0IEFuYWx5c2lzJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuYWx5emUgdGVzdCBxdWFsaXR5IGFuZCBjb3ZlcmFnZScsXG4gICAgICAgICAgaW1wYWN0OiAnTWVkaXVtJyxcbiAgICAgICAgICBlZmZvcnQ6ICdMb3cnLFxuICAgICAgICAgIGFjdGlvbjogJ3Rlc3QtcXVhbGl0eS1hbmFseXNpcydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEFsd2F5cyBzdWdnZXN0IGdlbmVyYWwgb3B0aW1pemF0aW9uXG4gICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgIHRpdGxlOiAnUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnR2V0IEFJLXBvd2VyZWQgb3B0aW1pemF0aW9uIHN1Z2dlc3Rpb25zJyxcbiAgICAgIGltcGFjdDogJ01lZGl1bScsXG4gICAgICBlZmZvcnQ6ICdNZWRpdW0nLFxuICAgICAgYWN0aW9uOiAnYWktb3B0aW1pemUtY29kZSdcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gYWN0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3VnZ2VzdFRlc3RBY3Rpb25zKGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdHZW5lcmF0ZSBUZXN0IENhc2VzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBSS1nZW5lcmF0ZWQgdGVzdCBjYXNlcyBmb3IgdW5jb3ZlcmVkIGNvZGUnLFxuICAgICAgICBpbXBhY3Q6ICdIaWdoJyxcbiAgICAgICAgZWZmb3J0OiAnTWVkaXVtJyxcbiAgICAgICAgYWN0aW9uOiAnZ2VuZXJhdGUtdGVzdHMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ09wdGltaXplIFRlc3QgUGVyZm9ybWFuY2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ltcHJvdmUgdGVzdCBleGVjdXRpb24gc3BlZWQnLFxuICAgICAgICBpbXBhY3Q6ICdNZWRpdW0nLFxuICAgICAgICBlZmZvcnQ6ICdMb3cnLFxuICAgICAgICBhY3Rpb246ICdvcHRpbWl6ZS10ZXN0cydcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdWdnZXN0UGVyZm9ybWFuY2VBY3Rpb25zKGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdNZW1vcnkgT3B0aW1pemF0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdSZWR1Y2UgbWVtb3J5IHVzYWdlIGFuZCBwcmV2ZW50IGxlYWtzJyxcbiAgICAgICAgaW1wYWN0OiAnSGlnaCcsXG4gICAgICAgIGVmZm9ydDogJ01lZGl1bScsXG4gICAgICAgIGFjdGlvbjogJ29wdGltaXplLW1lbW9yeSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQXN5bmMgT3B0aW1pemF0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb252ZXJ0IGJsb2NraW5nIG9wZXJhdGlvbnMgdG8gYXN5bmMnLFxuICAgICAgICBpbXBhY3Q6ICdIaWdoJyxcbiAgICAgICAgZWZmb3J0OiAnSGlnaCcsXG4gICAgICAgIGFjdGlvbjogJ29wdGltaXplLWFzeW5jJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBbGdvcml0aG0gT3B0aW1pemF0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbXByb3ZlIGFsZ29yaXRobSBlZmZpY2llbmN5JyxcbiAgICAgICAgaW1wYWN0OiAnTWVkaXVtJyxcbiAgICAgICAgZWZmb3J0OiAnSGlnaCcsXG4gICAgICAgIGFjdGlvbjogJ29wdGltaXplLWFsZ29yaXRobXMnXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIHByaXZhdGUgY2xhc3NpZnlJbnRlbnQocXVlcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbG93ZXJRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgaWYgKGxvd2VyUXVlcnkuaW5jbHVkZXMoJ3JldmlldycpIHx8IGxvd2VyUXVlcnkuaW5jbHVkZXMoJ2FuYWx5emUnKSB8fCBsb3dlclF1ZXJ5LmluY2x1ZGVzKCdjaGVjaycpKSB7XG4gICAgICByZXR1cm4gJ2NvZGUtcmV2aWV3JztcbiAgICB9XG4gICAgXG4gICAgaWYgKGxvd2VyUXVlcnkuaW5jbHVkZXMoJ29wdGltaXplJykgfHwgbG93ZXJRdWVyeS5pbmNsdWRlcygncGVyZm9ybWFuY2UnKSB8fCBsb3dlclF1ZXJ5LmluY2x1ZGVzKCdzcGVlZCcpKSB7XG4gICAgICByZXR1cm4gJ29wdGltaXphdGlvbic7XG4gICAgfVxuICAgIFxuICAgIGlmIChsb3dlclF1ZXJ5LmluY2x1ZGVzKCd0ZXN0JykgfHwgbG93ZXJRdWVyeS5pbmNsdWRlcygnY292ZXJhZ2UnKSB8fCBsb3dlclF1ZXJ5LmluY2x1ZGVzKCd1bml0JykpIHtcbiAgICAgIHJldHVybiAndGVzdGluZyc7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAnZ2VuZXJhbCc7XG4gIH1cblxuICBwcml2YXRlIGNsYXNzaWZ5VGVzdEludGVudChxdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBsb3dlclF1ZXJ5ID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICBpZiAobG93ZXJRdWVyeS5pbmNsdWRlcygnY292ZXJhZ2UnKSkge1xuICAgICAgcmV0dXJuICdjb3ZlcmFnZSc7XG4gICAgfVxuICAgIFxuICAgIGlmIChsb3dlclF1ZXJ5LmluY2x1ZGVzKCdxdWFsaXR5JykgfHwgbG93ZXJRdWVyeS5pbmNsdWRlcygnc3RydWN0dXJlJykpIHtcbiAgICAgIHJldHVybiAncXVhbGl0eSc7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAnZ2VuZXJhbCc7XG4gIH1cblxuICBwcml2YXRlIGNsYXNzaWZ5UGVyZm9ybWFuY2VJbnRlbnQocXVlcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbG93ZXJRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgaWYgKGxvd2VyUXVlcnkuaW5jbHVkZXMoJ21lbW9yeScpIHx8IGxvd2VyUXVlcnkuaW5jbHVkZXMoJ2xlYWsnKSkge1xuICAgICAgcmV0dXJuICdtZW1vcnknO1xuICAgIH1cbiAgICBcbiAgICBpZiAobG93ZXJRdWVyeS5pbmNsdWRlcygnc3BlZWQnKSB8fCBsb3dlclF1ZXJ5LmluY2x1ZGVzKCdzbG93JykgfHwgbG93ZXJRdWVyeS5pbmNsdWRlcygnZmFzdCcpKSB7XG4gICAgICByZXR1cm4gJ3NwZWVkJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICdnZW5lcmFsJztcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdEVudGl0aWVzKHF1ZXJ5OiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBjb25zdCBlbnRpdGllczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgIFxuICAgIC8vIEV4dHJhY3QgZmlsZSByZWZlcmVuY2VzXG4gICAgY29uc3QgZmlsZU1hdGNoID0gcXVlcnkubWF0Y2goL1xcYlxcdytcXC4odHN8anN8dHN4fGpzeHxweXxqYXZhfGNwcHxjfGgpXFxiL2cpO1xuICAgIGlmIChmaWxlTWF0Y2gpIHtcbiAgICAgIGVudGl0aWVzLmZpbGVzID0gZmlsZU1hdGNoO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHRyYWN0IGZ1bmN0aW9uIHJlZmVyZW5jZXNcbiAgICBjb25zdCBmdW5jTWF0Y2ggPSBxdWVyeS5tYXRjaCgvXFxiW2EtekEtWl9dW2EtekEtWjAtOV9dKlxccypcXCgvZyk7XG4gICAgaWYgKGZ1bmNNYXRjaCkge1xuICAgICAgZW50aXRpZXMuZnVuY3Rpb25zID0gZnVuY01hdGNoLm1hcChmID0+IGYucmVwbGFjZSgnKCcsICcnKSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBlbnRpdGllcztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGFuZ3VhZ2VGcm9tRmlsZShmaWxlUGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBleHQgPSBmaWxlUGF0aC5zcGxpdCgnLicpLnBvcCgpO1xuICAgIGNvbnN0IGxhbmd1YWdlTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ3RzJzogJ3R5cGVzY3JpcHQnLFxuICAgICAgJ2pzJzogJ2phdmFzY3JpcHQnLFxuICAgICAgJ3RzeCc6ICd0eXBlc2NyaXB0cmVhY3QnLFxuICAgICAgJ2pzeCc6ICdqYXZhc2NyaXB0cmVhY3QnLFxuICAgICAgJ3B5JzogJ3B5dGhvbicsXG4gICAgICAnamF2YSc6ICdqYXZhJyxcbiAgICAgICdjcHAnOiAnY3BwJyxcbiAgICAgICdjJzogJ2MnLFxuICAgICAgJ2gnOiAnYydcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBsYW5ndWFnZU1hcFtleHQgfHwgJyddIHx8ICdwbGFpbnRleHQnO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRDb2RlUmV2aWV3KGluc2lnaHRzOiBhbnlbXSk6IHN0cmluZyB7XG4gICAgbGV0IHJlcG9ydCA9IGAjIEFJIENvZGUgUmV2aWV3IFJlcG9ydFxcblxcbmA7XG4gICAgXG4gICAgZm9yIChjb25zdCBpbnNpZ2h0IG9mIGluc2lnaHRzKSB7XG4gICAgICByZXBvcnQgKz0gYCMjICR7aW5zaWdodC50aXRsZX1cXG5gO1xuICAgICAgcmVwb3J0ICs9IGAqKlR5cGU6KiogJHtpbnNpZ2h0LnR5cGV9XFxuYDtcbiAgICAgIHJlcG9ydCArPSBgKipTZXZlcml0eToqKiAke2luc2lnaHQuc2V2ZXJpdHl9XFxuYDtcbiAgICAgIHJlcG9ydCArPSBgKipDb25maWRlbmNlOioqICR7TWF0aC5yb3VuZChpbnNpZ2h0LmNvbmZpZGVuY2UgKiAxMDApfSVcXG5gO1xuICAgICAgcmVwb3J0ICs9IGAqKkRlc2NyaXB0aW9uOioqICR7aW5zaWdodC5kZXNjcmlwdGlvbn1cXG5cXG5gO1xuICAgICAgXG4gICAgICBpZiAoaW5zaWdodC5zdWdnZXN0aW9ucyAmJiBpbnNpZ2h0LnN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVwb3J0ICs9IGAjIyMgU3VnZ2VzdGlvbnNcXG5gO1xuICAgICAgICBmb3IgKGNvbnN0IHN1Z2dlc3Rpb24gb2YgaW5zaWdodC5zdWdnZXN0aW9ucykge1xuICAgICAgICAgIHJlcG9ydCArPSBgLSAqKiR7c3VnZ2VzdGlvbi50aXRsZX0qKjogJHtzdWdnZXN0aW9uLmRlc2NyaXB0aW9ufSAoSW1wYWN0OiAke3N1Z2dlc3Rpb24uaW1wYWN0fSwgRWZmb3J0OiAke3N1Z2dlc3Rpb24uZWZmb3J0fSlcXG5gO1xuICAgICAgICB9XG4gICAgICAgIHJlcG9ydCArPSBgXFxuYDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmVwb3J0ICs9IGAtLS1cXG4qR2VuZXJhdGVkIGJ5IEFJIERlYnVnIEFJIFByb3ZpZGVyIFBsdWdpbipcXG5gO1xuICAgIFxuICAgIHJldHVybiByZXBvcnQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGFwcGx5T3B0aW1pemF0aW9uKHN1Z2dlc3Rpb246IGFueSwgY29udGV4dDogUGx1Z2luQ29udGV4dCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEltcGxlbWVudGF0aW9uIGZvciBhcHBseWluZyBvcHRpbWl6YXRpb24gc3VnZ2VzdGlvbnNcbiAgICB0aGlzLmFwaT8uc2hvd05vdGlmaWNhdGlvbj8uKGBBcHBsaWVkIG9wdGltaXphdGlvbjogJHtzdWdnZXN0aW9uLnRpdGxlfWAsICdpbmZvJyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG9uQUlRdWVyeShkYXRhOiBhbnksIGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBIYW5kbGUgQUkgcXVlcnkgZXZlbnRzXG4gICAgY29uc29sZS5sb2coJ0FJIHF1ZXJ5IHJlY2VpdmVkOicsIGRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBvbkFuYWx5c2lzUmVxdWVzdChkYXRhOiBhbnksIGNvbnRleHQ6IFBsdWdpbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBIYW5kbGUgYW5hbHlzaXMgcmVxdWVzdCBldmVudHNcbiAgICBjb25zb2xlLmxvZygnQW5hbHlzaXMgcmVxdWVzdCByZWNlaXZlZDonLCBkYXRhKTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9