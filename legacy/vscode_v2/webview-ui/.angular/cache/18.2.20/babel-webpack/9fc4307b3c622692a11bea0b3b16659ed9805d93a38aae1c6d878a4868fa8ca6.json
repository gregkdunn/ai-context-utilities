{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { FileSelectorComponent } from './modules/file-selection/file-selector.component';\nimport { TestSelectorComponent } from './modules/test-selection/test-selector.component';\nimport { AIDebugComponent } from './modules/ai-debug/ai-debug.component';\nimport { PRGeneratorComponent } from './modules/pr-generator/pr-generator.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/vscode.service\";\nfunction AppComponent_Conditional_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AppComponent_Conditional_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showOverview());\n    });\n    i0.ɵɵtext(1, \" \\u2190 Back to Overview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_Conditional_7_Conditional_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23)(1, \"span\");\n    i0.ɵɵtext(2, \"\\u26A0\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Configure Prerequisites First \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_Conditional_7_Conditional_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23)(1, \"span\");\n    i0.ɵɵtext(2, \"\\uD83E\\uDD16\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Run AI Test Debug \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_Conditional_7_Conditional_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1, \" Complete file selection and test configuration to continue \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_Conditional_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"main\", 5)(1, \"div\", 9)(2, \"div\", 10)(3, \"div\", 11)(4, \"span\", 12);\n    i0.ɵɵtext(5, \"\\uD83D\\uDCC1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h3\", 13);\n    i0.ɵɵtext(7, \"File Selection\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"p\", 14);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AppComponent_Conditional_7_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showModule(\"file-selection\"));\n    });\n    i0.ɵɵtext(11, \" Configure \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"div\", 11)(14, \"span\", 12);\n    i0.ɵɵtext(15, \"\\uD83E\\uDDEA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"h3\", 13);\n    i0.ɵɵtext(17, \"Test Configuration\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"p\", 14);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AppComponent_Conditional_7_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showModule(\"test-selection\"));\n    });\n    i0.ɵɵtext(21, \" Configure \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 10)(23, \"div\", 11)(24, \"span\", 12);\n    i0.ɵɵtext(25, \"\\uD83D\\uDCCB\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"h3\", 13);\n    i0.ɵɵtext(27, \"PR Generator\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"p\", 14);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function AppComponent_Conditional_7_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showModule(\"pr-generator\"));\n    });\n    i0.ɵɵtext(31, \" Configure \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"div\", 17)(33, \"div\", 18)(34, \"span\", 19);\n    i0.ɵɵtext(35, \"\\uD83D\\uDE80\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"h2\", 20);\n    i0.ɵɵtext(37, \"AI Test Debug\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"p\", 21);\n    i0.ɵɵtext(39, \" Run the complete AI-powered test debugging workflow with your configured settings. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_Conditional_7_Template_button_click_40_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.showModule(\"ai-debug\"));\n    });\n    i0.ɵɵtemplate(41, AppComponent_Conditional_7_Conditional_41_Template, 4, 0, \"span\", 23)(42, AppComponent_Conditional_7_Conditional_42_Template, 4, 0, \"span\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, AppComponent_Conditional_7_Conditional_43_Template, 2, 0, \"p\", 24);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r1.getFileSelectionStatus());\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r1.getTestConfigStatus());\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r1.getPRGeneratorStatus());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.fileSelection());\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.canRunAIDebug());\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(!ctx_r1.canRunAIDebug() ? 41 : 42);\n    i0.ɵɵadvance(2);\n    i0.ɵɵconditional(!ctx_r1.canRunAIDebug() ? 43 : -1);\n  }\n}\nfunction AppComponent_Conditional_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-file-selector\", 25);\n    i0.ɵɵlistener(\"selectionChanged\", function AppComponent_Conditional_8_Template_app_file_selector_selectionChanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFileSelectionChanged($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_Conditional_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-test-selector\", 26);\n    i0.ɵɵlistener(\"configurationChanged\", function AppComponent_Conditional_9_Template_app_test_selector_configurationChanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onTestConfigurationChanged($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_Conditional_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-ai-debug\", 27);\n    i0.ɵɵlistener(\"workflowComplete\", function AppComponent_Conditional_10_Template_app_ai_debug_workflowComplete_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onAIDebugComplete($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"fileSelection\", ctx_r1.fileSelection())(\"testConfiguration\", ctx_r1.testConfiguration());\n  }\n}\nfunction AppComponent_Conditional_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-pr-generator\", 28);\n    i0.ɵɵlistener(\"descriptionGenerated\", function AppComponent_Conditional_11_Template_app_pr_generator_descriptionGenerated_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPRDescriptionGenerated($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"fileSelection\", ctx_r1.fileSelection())(\"testResults\", ctx_r1.testResults())(\"aiAnalysis\", ctx_r1.aiAnalysis());\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(vscode) {\n      this.vscode = vscode;\n      this.subscription = new Subscription();\n      // Module navigation\n      this.activeModule = signal('overview');\n      // Module data\n      this.fileSelection = signal(null);\n      this.testConfiguration = signal(null);\n      this.testResults = signal(null);\n      this.aiAnalysis = signal(null);\n      this.prDescription = signal(null);\n    }\n    ngOnInit() {\n      this.subscription.add(this.vscode.onMessage().subscribe(message => {\n        if (message) {\n          this.internalHandleVscodeMessage(message);\n        }\n      }));\n      // Load any saved state\n      const savedState = this.vscode.getState();\n      if (savedState) {\n        this.restoreState(savedState);\n      }\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n    // Navigation methods\n    showOverview() {\n      this.activeModule.set('overview');\n      this.saveState();\n    }\n    showModule(module) {\n      this.activeModule.set(module);\n      this.saveState();\n    }\n    // Status methods\n    getFileSelectionStatus() {\n      const selection = this.fileSelection();\n      if (!selection) return 'Not configured';\n      switch (selection.mode) {\n        case 'uncommitted':\n          return `${selection.files.length} uncommitted files`;\n        case 'commit':\n          const selectedCommits = selection.commits;\n          if (selectedCommits && selectedCommits.length > 0) {\n            if (selectedCommits.length === 1) {\n              return `Commit: ${selectedCommits[0].hash.substring(0, 7)}`;\n            } else {\n              return `${selectedCommits.length} commits selected`;\n            }\n          }\n          return 'No commits selected';\n        case 'branch-diff':\n          return 'Branch to main diff';\n        default:\n          return 'Configured';\n      }\n    }\n    getTestConfigStatus() {\n      const config = this.testConfiguration();\n      if (!config) return 'Not configured';\n      if (config.mode === 'affected') {\n        return 'Affected tests';\n      } else {\n        return config.project ? `Project: ${config.project}` : 'Project mode';\n      }\n    }\n    getPRGeneratorStatus() {\n      if (!this.fileSelection()) return 'Requires file selection';\n      if (this.prDescription()) return 'Description generated';\n      return 'Ready to generate';\n    }\n    canRunAIDebug() {\n      return !!(this.fileSelection() && this.testConfiguration());\n    }\n    // Event handlers\n    onFileSelectionChanged(selection) {\n      this.fileSelection.set(selection);\n      this.saveState();\n      this.vscode.postMessage('fileSelectionChanged', selection);\n    }\n    onTestConfigurationChanged(config) {\n      this.testConfiguration.set(config);\n      this.saveState();\n      this.vscode.postMessage('testConfigurationChanged', config);\n    }\n    onAIDebugComplete(result) {\n      this.testResults.set(result.testResults);\n      this.aiAnalysis.set(result.aiAnalysis);\n      this.saveState();\n      this.vscode.postMessage('aiDebugComplete', result);\n    }\n    onPRDescriptionGenerated(description) {\n      this.prDescription.set(description);\n      this.saveState();\n      this.vscode.postMessage('prDescriptionGenerated', description);\n    }\n    internalHandleVscodeMessage(message) {\n      switch (message.command) {\n        case 'showModule':\n          if (message.data?.moduleType) {\n            this.showModule(message.data.moduleType);\n          }\n          break;\n        case 'resetState':\n          this.resetAllState();\n          break;\n      }\n    }\n    // Public method for testing\n    handleVscodeMessage(message) {\n      this.internalHandleVscodeMessage(message);\n    }\n    saveState() {\n      const state = {\n        activeModule: this.activeModule(),\n        fileSelection: this.fileSelection(),\n        testConfiguration: this.testConfiguration(),\n        testResults: this.testResults(),\n        aiAnalysis: this.aiAnalysis(),\n        prDescription: this.prDescription()\n      };\n      this.vscode.setState(state);\n    }\n    restoreState(state) {\n      if (state.activeModule) this.activeModule.set(state.activeModule);\n      if (state.fileSelection) this.fileSelection.set(state.fileSelection);\n      if (state.testConfiguration) this.testConfiguration.set(state.testConfiguration);\n      if (state.testResults) this.testResults.set(state.testResults);\n      if (state.aiAnalysis) this.aiAnalysis.set(state.aiAnalysis);\n      if (state.prDescription) this.prDescription.set(state.prDescription);\n    }\n    resetAllState() {\n      this.activeModule.set('overview');\n      this.fileSelection.set(null);\n      this.testConfiguration.set(null);\n      this.testResults.set(null);\n      this.aiAnalysis.set(null);\n      this.prDescription.set(null);\n      this.saveState();\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || AppComponent)(i0.ɵɵdirectiveInject(i1.VscodeService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 12,\n        vars: 6,\n        consts: [[1, \"min-h-screen\", \"bg-vscode-background\", \"text-vscode-foreground\", \"p-4\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-6\", \"pb-4\", \"border-b\", \"border-vscode-panel-border\"], [1, \"flex\", \"items-center\", \"gap-3\", \"text-2xl\", \"font-bold\"], [1, \"text-3xl\"], [1, \"px-4\", \"py-2\", \"bg-vscode-button-secondaryBackground\", \"text-vscode-button-secondaryForeground\", \"rounded\", \"hover:bg-vscode-button-secondaryHoverBackground\"], [1, \"max-w-4xl\", \"mx-auto\"], [3, \"fileSelection\", \"testConfiguration\"], [3, \"fileSelection\", \"testResults\", \"aiAnalysis\"], [1, \"px-4\", \"py-2\", \"bg-vscode-button-secondaryBackground\", \"text-vscode-button-secondaryForeground\", \"rounded\", \"hover:bg-vscode-button-secondaryHoverBackground\", 3, \"click\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-4\", \"mb-8\"], [1, \"bg-vscode-editor-background\", \"border\", \"border-vscode-panel-border\", \"rounded-lg\", \"p-4\"], [1, \"flex\", \"items-center\", \"gap-2\", \"mb-2\"], [1, \"text-xl\"], [1, \"font-semibold\"], [1, \"text-sm\", \"text-vscode-descriptionForeground\", \"mb-3\"], [1, \"w-full\", \"px-3\", \"py-2\", \"bg-vscode-button-background\", \"text-vscode-button-foreground\", \"rounded\", \"hover:bg-vscode-button-hoverBackground\", 3, \"click\"], [1, \"w-full\", \"px-3\", \"py-2\", \"bg-vscode-button-background\", \"text-vscode-button-foreground\", \"rounded\", \"hover:bg-vscode-button-hoverBackground\", \"disabled:opacity-50\", 3, \"click\", \"disabled\"], [1, \"bg-vscode-editor-background\", \"border\", \"border-vscode-panel-border\", \"rounded-lg\", \"p-6\", \"text-center\"], [1, \"flex\", \"items-center\", \"justify-center\", \"gap-3\", \"mb-4\"], [1, \"text-4xl\"], [1, \"text-xl\", \"font-bold\"], [1, \"text-vscode-descriptionForeground\", \"mb-6\", \"max-w-md\", \"mx-auto\"], [1, \"px-8\", \"py-4\", \"bg-vscode-button-background\", \"text-vscode-button-foreground\", \"rounded-lg\", \"font-semibold\", \"text-lg\", \"hover:bg-vscode-button-hoverBackground\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"click\", \"disabled\"], [1, \"flex\", \"items-center\", \"gap-2\"], [1, \"text-vscode-descriptionForeground\", \"text-sm\", \"mt-3\"], [3, \"selectionChanged\"], [3, \"configurationChanged\"], [3, \"workflowComplete\", \"fileSelection\", \"testConfiguration\"], [3, \"descriptionGenerated\", \"fileSelection\", \"testResults\", \"aiAnalysis\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"h1\", 2)(3, \"span\", 3);\n            i0.ɵɵtext(4, \"\\uD83E\\uDD16\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(5, \" AI Debug Context \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(6, AppComponent_Conditional_6_Template, 2, 0, \"button\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(7, AppComponent_Conditional_7_Template, 44, 7, \"main\", 5)(8, AppComponent_Conditional_8_Template, 1, 0, \"app-file-selector\")(9, AppComponent_Conditional_9_Template, 1, 0, \"app-test-selector\")(10, AppComponent_Conditional_10_Template, 1, 2, \"app-ai-debug\", 6)(11, AppComponent_Conditional_11_Template, 1, 3, \"app-pr-generator\", 7);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵconditional(ctx.activeModule() !== \"overview\" ? 6 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(ctx.activeModule() === \"overview\" ? 7 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(ctx.activeModule() === \"file-selection\" ? 8 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(ctx.activeModule() === \"test-selection\" ? 9 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(ctx.activeModule() === \"ai-debug\" ? 10 : -1);\n            i0.ɵɵadvance();\n            i0.ɵɵconditional(ctx.activeModule() === \"pr-generator\" ? 11 : -1);\n          }\n        },\n        dependencies: [CommonModule, FileSelectorComponent, TestSelectorComponent, AIDebugComponent, PRGeneratorComponent],\n        styles: [\".spinner[_ngcontent-%COMP%]{border:2px solid var(--vscode-progressBar-background);border-top:2px solid var(--vscode-progressBar-foreground);border-radius:50%;width:16px;height:16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}